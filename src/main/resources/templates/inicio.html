<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Inicio</title>
</head>
<body>
    <div th:replace="/fragments/nav"></div>

    <form th:action="@{/filtrar}" method="post">
        <input name="nombreUsuarioFiltro" type="text" placeholder="Nombre de usuario"/>
        <button>Buscar</button>
        <br>
        <input name="texto" type="text" placeholder="Contenido">
        <button>Buscar</button>
        <br>
        <input name="fecha" type="date">
        <button>Buscar</button>
        <br>
        <input type="hidden" name="nombreUsuario" th:value="${usuarioActual.nombreUsuario}">
    </form>

    <form th:action="@{/ascendente}" method="post">
        <input type="hidden" name="nombreUsuario" th:value="${usuarioActual.nombreUsuario}">
        <button>Fecha ascendente</button>
    </form>
    <form th:action="@{/descendente}" method="post">
        <input type="hidden" name="nombreUsuario" th:value="${usuarioActual.nombreUsuario}"/>
        <button>Fecha descendente</button>
    </form>
    <br>

    <h3>Inicio</h3>
    <div th:each="post : ${posts}">
        <p th:text="${post.texto}"><br></p>
        <p>Usuario: <span th:text="${post.usuario}"></span></p> <!--post.usuario.mombreUsuario -->
        <p>Fecha de publicaci√≥n: <span th:text="${#temporals.format(post.fecha, 'dd/MM/yyyy HH:mm')}"></span></p>

        <form th:action="@{/repost}" method="post">
            <input type="hidden" name="postId" th:value="${post.id}">
            <input type="hidden" name="nombreUsuario" th:value="${usuarioActual.nombreUsuario}">
            <button type="submit">Repostear</button>
        </form>
        <form th:action="@{/like}" method="post">
            <input type="hidden" name="postId" th:value="${post.id}" />
            <input type="hidden" name="nombreUsuario" th:value="${usuarioActual.nombreUsuario}"/>
            <button type="submit">Me gusta</button>
        </form>
        <hr/>
    </div>

</body>
</html>